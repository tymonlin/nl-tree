!function(){var e=angular.module("module.newland.tree",[]);e.directive("nlTree",["$NLTree",function(n){return{restrict:"EA",scope:{data:"=",defaultToggled:"=",selected:"&",dataKey:"@",nameKey:"@"},controller:["$scope",function(t){t.nameKey||(t.nameKey="name"),t.dataKey||(t.dataKey="data"),t.select=function(e){e.active?(e.active=!1,t.selected({row:void 0}),t.selectedRow=void 0):(t.selectedRow&&(t.selectedRow.active=!1),e.active=!0,t.selected({row:e}),t.selectedRow=e)},t.changeToggled=function(e){e.toggled=!e.toggled};var a=t.defaultToggled;t.initRowTOG=function(e){e.toggled=null==e.toggled?null==a?n.defaultToggled:a:e.toggled}}],template:"<div></div>",replace:!0,compile:function(e,t){for(var a=$(e),o=0;o<n.maxDepth;o++){var l=$("<ul ng-if='"+(0==o||"row"+(o-1)+"[dataKey]")+"'>   <li ng-repeat='row"+o+" in "+(0==o?"data":"row"+(o-1)+"[dataKey]")+"' ng-class=\"{'active':(row"+o+".active), 'toggled': row"+o+".toggled}\" ng-init='initRowTOG(row"+o+")'>       <i class='fa' ng-class=\"{'fa-plus-square-o': (row"+o+"[dataKey] && !row"+o+".toggled), 'fa-minus-square-o': (!row"+o+"[dataKey] || row"+o+".toggled)}\" ng-click='changeToggled(row"+o+")'></i>       <a href='javascript:;' ng-click='select(row"+o+")' ng-dblclick='changeToggled(row"+o+")'><span>{{row"+o+"[nameKey]}}</span></a>   </li></ul>");a.append(l),a=l.children("li")}}}}]),e.provider("$NLTree",function e(){this.maxDepth=10,this.defaultToggled=!1,this.sortDataList=function(e,t,a,o){for(var l=[],n=0;n<e.length;n++){var i,r=e[n];r[o]==t&&(0<(i=this.sortDataList(e,r[a],a,o)).length&&(r.data=i),l.push(r))}return l},this.$get=function(){return new e}})}();